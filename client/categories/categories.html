<template name="categories">
    <div class="page-header">
        <h1>
            <small>Categories</small>
        </h1>
    </div>
    <ul class="nav nav-list">
        {{#each Categories}}
        <li class="nav-header categories-nav categories-nav-header catName">{{name}}</li>
        {{#each SubCategories}}
        <li class="subCatName"><a href="/{{name}}">{{name}}</a></li>
        {{/each}}
        {{/each}}
    </ul>
</template>

<template name="categoryModalNew">
  <div class="modal fade" role="dialog">
    <div class="modal-dialog" >
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Create a New Category</h4>
        </div>
        <div class="modal-body">
            {{#autoForm id="afNewCategory" type="method" meteormethod="newSubCategory" collection="SubCategories"}}
              <fieldset>
                  {{> afQuickField id="name" name="name" label=false placeholder="Category name"}}
                  {{> afQuickField id="cat" name="cat" label=false type="select2" options=optParentCats firstOption="(Select a Parent Category)" }}
              </fieldset>
              <div class="form-group">
                <button type="submit" class="btn btn-primary" id="save">Save</button>
                <button type="reset" class="btn btn-default">Reset Form</button>
              </div>
            {{/autoForm}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="categoryModalEdit">
  <div class="modal fade" role="dialog">
    <div class="modal-dialog" >
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Edit Category</h4>
        </div>
        <div class="modal-body">
            {{#autoForm id="afEditCategory" type="method" meteormethod="editCategory" collection="SubCategories"}}
              <fieldset>
                  {{> afQuickField name='catName' label=false placeholder="Category name"}}
                  {{> afQuickField name='parentCatName' label=false }}
              </fieldset>
              <div class="form-group">
                <button type="submit" class="btn btn-primary" id="save">Save</button>
                <button type="reset" class="btn btn-default">Reset Form</button>
              </div>
            {{/autoForm}}
        </div>
      </div>
    </div>
  </div>
</template>